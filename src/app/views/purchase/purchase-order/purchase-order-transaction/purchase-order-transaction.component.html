<form cForm [formGroup]="headerForm" (ngSubmit)="onSubmit()">
  <c-card>
    <c-row>
      <c-col>
        <div class="d-flex justify-content-start align-items-center">
          <span class="dot warning"></span>
          <div
            class="d-flex align-items-center"
            style="margin-top: 0.25rem; margin-left: 1rem"
          >
            <strong>{{ docstatus }}</strong>
          </div>
        </div>
      </c-col>
      <c-col>
        <div class="d-flex justify-content-end">
          <button cButton color="success" size="sm" type="submit">
            <svg cIcon name="cil-save" size="sm"></svg>
            <strong> Save</strong>
          </button>
          <button
            cButton
            (click)="PassEvent()"
            color="danger"
            size="sm"
            style="margin-left: 0.25rem"
          >
            <svg cIcon name="cil-exit-to-app" size="sm"></svg>
            <strong></strong>
          </button>
        </div>
      </c-col>
    </c-row>
  </c-card>

  <c-card>
    <c-row>
      <c-col lg="4" md="6" xs="12">
        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="suppliercode"
            id="supplier-code"
            aria-describedby="button-addon2"
            aria-label="Select Supplier"
            cFormControl
            placeholder="Select Supplier"
            readonly="true"
          />
          <button
            cButton
            color="secondary"
            id="button-addon2"
            type="button"
            variant="outline"
            style="border: 0rem"
            [cModalToggle]="itemSupplierEntry.id"
          >
            <svg cIcon name="cil-list" size="sm"></svg>
          </button>
        </c-input-group>

        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="suppliername"
            aria-describedby="button-addon2"
            aria-label="Name"
            cFormControl
            placeholder="Name"
            readonly="true"
          />
        </c-input-group>

        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="branchname"
            aria-describedby="button-addon2"
            aria-label="Branch Name"
            cFormControl
            placeholder="Branch Name"
            readonly="true"
          />
        </c-input-group>
      </c-col>

      <c-col lg="4" md="6" xs="12"> </c-col>

      <c-col lg="4" md="6" xs="12">
        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="docnum"
            aria-describedby="button-addon2"
            aria-label="Document Number"
            cFormControl
            placeholder="Document Number"
            readonly="true"
          />
        </c-input-group>

        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="docdate"
            type="date"
            aria-describedby="button-addon2"
            aria-label="Posting Date"
            cFormControl
            placeholder="Posting Date"
            readonly="true"
          />
        </c-input-group>

        <c-input-group class="mb-1" sizing="sm">
          <input
            formControlName="deldate"
            type="date"
            aria-describedby="button-addon2"
            aria-label="Delivery Date"
            cFormControl
            placeholder="Delivery Date"
          />
        </c-input-group>
      </c-col>
    </c-row>
  </c-card>
</form>

<c-card class="table-responsive">
  <table cTable [hover]="true" [striped]="true" size="sm">
    <thead>
      <tr>
        <th scope="col">Item Code</th>
        <th scope="col">Item Description</th>
        <th scope="col">Item Uom</th>
        <th scope="col">Quantity</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let o of purchaseorderdetails; let i = index">
        <td>{{ o.ins_ItemCode }}</td>
        <td>{{ o.ins_ItemDescription }}</td>
        <td>{{ o.ins_PurchaseUom }}</td>
        <td *ngIf="isViewHidden">{{ o.ins_Quantity }}</td>
        <td *ngIf="isEditHidden">
          <input
            value="{{ o.ins_Quantity }}"
            id="{{ i }}"
            aria-describedby="button-addon2"
            aria-label="Quantity"
            sizing="sm"
            type="number"
            name="Quantity"
            ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
            step="0.001"
            (change)="onchange($event)"
          />
        </td>
        <td>
          <button
            cButton
            (click)="deleteItem(i)"
            color="danger"
            size="sm"
            style="margin-left: 0.25rem; margin-bottom: 0.25rem"
          >
            <svg cIcon name="cil-ban" size="sm"></svg>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <div>
    <button cButton [cModalToggle]="itemDataEntry.id" color="success" size="sm">
      <svg cIcon name="cil-playlist-add" size="1xl"></svg>
      <strong> Add Item</strong>
    </button>
  </div>
</c-card>

<c-modal
  #itemDataEntry
  alignment="center"
  backdrop="static"
  id="itemDataEntry"
  size="lg"
>
  <c-modal-body>
    <app-items-data-selection
      (itemSelectionEvent)="eventAddRow($event)"
    ></app-items-data-selection>
  </c-modal-body>
</c-modal>

<c-modal
  #itemSupplierEntry
  alignment="center"
  backdrop="static"
  id="itemSupplierEntry"
  size="lg"
>
  <c-modal-body>
    <app-supplier-data-selection
      (supplierSelectionEvent)="supplierSelected($event)"
    ></app-supplier-data-selection>
  </c-modal-body>
</c-modal>
